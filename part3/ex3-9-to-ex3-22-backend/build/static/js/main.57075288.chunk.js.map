{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/contact.js","App.js","index.js"],"names":["Filter","newSearchNameVal","newSearchName","onChange","value","PersonForm","onSubmit","newNameVal","newName","newNumberVal","newNum","type","Persons","name","number","buttonId","handleDeleteContact","id","onClick","Notification","message","substring","className","baseUrl","contactService","getAllContact","axios","get","then","response","data","addContact","newContact","request","post","console","log","deleteContact","delete","updateContact","updatedExistingContact","put","App","useState","persons","setPersons","setNewName","setNewNum","setNewSearchName","errorMessage","setErrorMessage","useEffect","contacts","re","RegExp","listResult","filter","person","match","event","target","preventDefault","some","window","confirm","existingContact","find","n","phoneNumber","map","setTimeout","catch","error","toString","alert","newPerson","contact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57075288.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({newSearchNameVal,newSearchName}) =>{\r\n    return (<div>Filter shown with <input onChange={newSearchNameVal} value ={newSearchName}/></div>)\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit,newNameVal,newName,newNumberVal,newNum}) =>{\r\n    return(\r\n      <div>\r\n         <form onSubmit={onSubmit}>\r\n          <div>Name: <input onChange={newNameVal} value ={newName}/></div>\r\n          <div>Number: <input onChange={newNumberVal} value ={newNum}/></div>\r\n  \r\n          <div><button type=\"submit\">add</button></div>\r\n  \r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({name,number,buttonId,handleDeleteContact}) =>{\r\n\r\n    return (\r\n        <div>\r\n            {name} âž¡ {number} <button id ={buttonId} onClick={handleDeleteContact}>delete</button> \r\n        </div>\r\n     )\r\n} \r\n  \r\nexport default Persons","import React from 'react'\r\n\r\n\r\nconst Notification = ({message}) =>{\r\n    if(message === null){\r\n        return null\r\n    }\r\n\r\n    if(message.substring(0,5) === \"Error\"){\r\n        return(\r\n            <div className=\"error\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    else{\r\n        return(\r\n            <div className=\"success\">\r\n                    {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAllContact = () =>{\r\n    const request = axios.get(baseUrl)\r\n    return request.then( response => response.data)\r\n}\r\n\r\nconst addContact = newContact =>{\r\n    const request = axios.post(baseUrl,newContact)\r\n    console.log(\"Adding\")\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = id =>{\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then( response => response.data)\r\n}\r\n\r\nconst updateContact = updatedExistingContact =>{\r\n    const request = axios.put(`${baseUrl}/${updatedExistingContact.id}`,updatedExistingContact)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst contactService = {\r\n    getAllContact,\r\n    addContact,\r\n    deleteContact,\r\n    updateContact\r\n}\r\n\r\n\r\nexport default contactService","import React, { useEffect, useState } from 'react'\r\nimport './index.css'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\n\r\nimport contactService from './services/contact'\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNum, setNewNum ] = useState('')\r\n  const [ newSearchName, setNewSearchName] = useState('')\r\n  const [ errorMessage, setErrorMessage] = useState(null)\r\n\r\n  useEffect(()=>{\r\n    contactService\r\n      .getAllContact()\r\n      .then(contacts =>{\r\n        setPersons(contacts)\r\n      })\r\n  },[])\r\n  \r\n  \r\n\r\n  //For search field result\r\n  //use regular expression\r\n  let re = new RegExp(newSearchName,\"i\");\r\n  const listResult = newSearchName === '' ? persons : persons.filter(person => (person.name).match(re))\r\n  \r\n  const newNameVal = (event) =>{\r\n    setNewName(event.target.value)\r\n  }\r\n  const newNumberVal = (event) => {\r\n    setNewNum(event.target.value)\r\n  }\r\n  const newSearchNameVal = (event) => {\r\n    setNewSearchName(event.target.value)\r\n  }\r\n\r\n\r\n  const handleDeleteContact = person =>{\r\n\r\n    if(window.confirm(`Remove ${person.name} from list of contacts?`)){\r\n      contactService\r\n      .deleteContact(person.id)\r\n      .then( () =>{\r\n        setPersons(persons.filter( contact => contact.id !== person.id))\r\n      })\r\n      .catch(error =>{\r\n        alert(`This contact has been deleted from server`)\r\n        setPersons(persons.filter( contact => contact.id !== person.id))\r\n      })\r\n    }\r\n  }\r\n\r\n  const onSubmit = (event) =>{\r\n      event.preventDefault()\r\n\r\n      const nameExisted = (person) => person.name === newName\r\n    \r\n      if(persons.some(nameExisted)){\r\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n          const existingContact = persons.find( n => n.name === newName)\r\n          const updatedExistingContact = {...existingContact,phoneNumber:newNum}\r\n          contactService\r\n          .updateContact(updatedExistingContact)\r\n          .then( response =>{\r\n            setPersons(persons.map( person => person.name!== response.name?person:updatedExistingContact))\r\n            setErrorMessage(`Contact successfully updated`)\r\n            setTimeout( () =>{\r\n              setErrorMessage(null)\r\n            },5000)\r\n          })\r\n          .catch(error =>{\r\n            setErrorMessage(`Error =>${error.response.data.error.toString()}`)\r\n            setTimeout( () =>{\r\n              setErrorMessage(null)\r\n            },5000)\r\n          })\r\n        }\r\n        \r\n      }\r\n      else{\r\n        if(newNum === ''){\r\n          alert(`Please give ${newName} a phone number :)`)\r\n        }\r\n        else{\r\n          const newPerson = {\r\n            name:newName,\r\n            phoneNumber:newNum,\r\n          }//id auto generated on mongoDB side\r\n          contactService\r\n          .addContact(newPerson)\r\n          .then(contact => {\r\n            setErrorMessage(`${contact.name}'s contact added successfully`)\r\n            setTimeout( () =>{\r\n              setErrorMessage(null)\r\n            },5000)\r\n            contactService\r\n            .getAllContact()\r\n            .then(contacts =>{\r\n              setPersons(contacts)\r\n            })\r\n          })\r\n          .catch(error =>{\r\n            setErrorMessage(`Error =>${error.response.data.error.toString()}`)\r\n            console.log(error.response.data.error)\r\n            setTimeout( () =>{\r\n              setErrorMessage(null)\r\n            },5000)\r\n          })\r\n\r\n         \r\n          //setPersons(persons.concat(newPerson))\r\n          setNewName('')\r\n          setNewNum('')\r\n        }\r\n      }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook â˜ŽðŸ“–</h2>\r\n      <Notification message={errorMessage}/>\r\n      <Filter newSearchNameVal ={newSearchNameVal} newSearchName={newSearchName}/>\r\n      \r\n      <h2>Add New Contact in PhoneBook ðŸ“–</h2>\r\n      <PersonForm onSubmit={onSubmit} newNameVal={newNameVal} newName={newName} newNumberVal={newNumberVal} newNum={newNum}/>\r\n      \r\n      <h2>Numbers â˜Ž</h2>\r\n      <ul>\r\n        {\r\n        listResult.map(person =>\r\n          <li key={person.id}><Persons name={person.name} number={person.phoneNumber} buttonId={person.id} handleDeleteContact={() => handleDeleteContact(person)}/></li>\r\n        )\r\n        }\r\n      </ul>\r\n     \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}